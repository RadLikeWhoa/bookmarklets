{
  "network": "Dribbble",
  "category": "social",
  "bookmarklets": {
    "Drafted by...": "javascript: if('dribbble.com'==window.location.hostname){var sendURL='http://host.sonspring.com/dribbble/?q=',path=new String(window.location.pathname);if(1<path.indexOf('/',1))var dir=path.substring(1,path.indexOf('/',1));if('players'==dir){var dribbbleUser=path.substring(path.lastIndexOf('/')+1,path.length);location.href=sendURL+dribbbleUser}else if('shots'==dir){var screenshotCode=document.getElementById('screenshot-title-section'),linkArray=screenshotCode.getElementsByTagName('a'),playerURL=new String(linkArray[0]),dribbbleUser=playerURL.substring(playerURL.lastIndexOf('/')+1,playerURL.length);location.href=sendURL+dribbbleUser}};",
    "Download Palette": "javascript:id=document.getElementsByClassName('the-shot')[0].getAttribute('data-screenshot_id');window.location='http://hey.vu/palettes/'+id",
    "Is a Follower": "javascript:(function(){if(window.isFollowerInstalled)return;window.isFollowerInstalled=true;var%20ajaxDataType='jsonp';function%20restoreBorderRadius(radius){var%20link=$('.follow-prompt%20a');var%20label=link.find('span').html();if(label==''%20||%20label=='Wait...'%20||%20label==linkLabel){setTimeout(restoreBorderRadius,100);return;}link.css({borderRadius:radius+'%200px%200px%20'+radius});linkLabel=label;}var%20linkLabel;var%20statusDiv;function%20addFollowerStatus(){var%20link=$('div.full%20.follow-prompt%20a');var%20info=link.parent();var%20radius;info.after('%3Cdiv%3E%26nbsp;%3C/div%3E');statusDiv=info.next();if(profile){statusDiv.css({float:'left',backgroundPosition:'50%25%2050%25,%200%2050%25',backgroundRepeat:'no-repeat,%20repeat-x',borderRadius:'0%206px%206px%200',margin:'5px%207px%200%20-3px',padding:'7px%200',width:'30px'}).tipsy({html:true,fade:true,title:'status'});radius='6px';}else{statusDiv.css({float:'left',backgroundPosition:'50%25%2050%25,%200%2050%25',backgroundRepeat:'no-repeat,%20repeat-x',borderRadius:'0%203px%203px%200',margin:'2px%200%200%20-2px',padding:'3px',width:'8px',height:'8px',overflow:'hidden'}).tipsy({html:true,fade:true,title:'status'});radius='3px';}statusDiv.attr('_bgPos',statusDiv.css('background-position'));linkLabel=link.find('span').html();link.css({borderRadius:radius+'%200px%200px%20'+radius});$('.follow-prompt%20a').live('click',function(){setTimeout(function(){restoreBorderRadius(radius);},100);});var%20hHave=statusDiv.outerHeight();var%20hWant=link.outerHeight();if(hHave%20!=hWant)statusDiv.height(statusDiv.height()+hWant%20-%20hHave);}function%20setFollowerStatus(status,progress){if(!%20statusDiv)addFollowerStatus();console.log('setting%20follower%20status%20to%20'+status+'%20'+(progress%3Fprogress:''));var%20tooltip;var%20bgColor;var%20bgImage,overlay;var%20imgBase='https://github.com/apankrat/internet-improvement-project/raw/master/dribbble/is-a-follower/misc/';var%20tipsy=$(document).find('.tipsy-inner');switch(status){case%20'p':tooltip='Checking%20if%20this%20player%3Cbr%3Eis%20following%20you...%3Cbr%3E'+progress;bgColor='white';bgImage='url(%22/images/processing.gif%22)';break;case%20'e':tooltip='Unable%20to%20check%20if%20this%20player%20is%20following%20you';bgColor='%23D3D3D3';bgImage='icon-cross';overlay='glass-30.png';break;case%20'-':tooltip='This%20player%20is%20not%3Cbr%3Efollowing%20you';bgColor='%23D3D3D3';bgImage='icon-minus';overlay='glass-30.png';break;case%20'+':tooltip='This%20player%20is%3Cbr%3E%20following%20you';bgColor='%238ABA56';bgImage='icon-check';overlay='glass-light.png';break;}if(overlay){bgImage='url(%22'%20+%20imgBase%20+%20bgImage%20+%20(profile%20%3F%20'-0'%20:%20'-1')%20+%20'.png%22),%20'+'url(%22/images/'%20+%20overlay%20+%20'%22)';statusDiv.css({backgroundPosition:statusDiv.attr('_bgPos')});}else{statusDiv.css({backgroundPosition:'-9px%20-3px'});}statusDiv.attr('status',tooltip);statusDiv.css({backgroundColor:bgColor,backgroundImage:bgImage,});if(tipsy.length){switch(status){case%20'p':tipsy.html(tooltip);break;case%20'e':case%20'-':case%20'+':statusDiv.tipsy('hide');statusDiv.tipsy('show');break;}}}var%20followers=null;function%20checkFollowerStatus(){var%20i;for(i=0;i%3Cfollowers.length;i++)if(followers[i]==username)break;setFollowerStatus((i%20%3C%20followers.length)%3F'+':'-');}var%20apiCalls=0;var%20nextCall;var%20fastAjax;function%20realAjaxCall(url,cb){localStorage.setItem('last_ajax_call',+new%20Date());$.ajax({url:url,dataType:ajaxDataType,success:cb,error:function(){setFollowerStatus('e');}});}function%20makeAjaxCall(url,cb){var%20now=+new%20Date();var%20noSooner=nextCall;if(fastAjax){apiCalls++;nextCall=now+((apiCalls%20%3C%2030)%3F0:((apiCalls%20%3C%2015)%3F250:1000));}else{nextCall=now+1000;}if(now%20%3C%20noSooner){console.log('delaying%20ajax%20call%20by%20'+(noSooner%20-%20now)+'ms');setTimeout(function(){realAjaxCall(url,cb);},noSooner%20-%20now);}else{realAjaxCall(url,cb);}}var%20newList;var%20attempts=0;function%20processFollowersPage(info){console.log('processing%20followers%20page%20'+info.page+'%20out%20of%20'+info.pages);console.log(info);if(info.total%20!=newList.length){console.log('followers%20list%20appears%20to%20have%20changed,%20new%20size%20=%20'+info.total);newList=null;if(attempts++%3C%202){updateFollowersList(info.total);return;}setFollowerStatus('e');return;}var%20first=(info.page%20-%201)*info.per_page;for(var%20i=0;i%3Cinfo.players.length;i++){var%20uname=info.players[i].username;var%20index=newList.length%20-%20first%20-%20i%20-%201;if(index%20%3C%20followers.length%20%26%26newList[index]==uname){console.log('follower%20at%20index%20'+index+'%20is%20the%20same%20as%20before,%20done');break;}newList[index]=uname;}if(i%20%3C%20info.players.length%20||info.page==info.pages){console.log('saving%20the%20list');followers=newList;localStorage.setItem('followers',JSON.stringify(followers));localStorage.setItem('followers_mtime',+new%20Date());checkFollowerStatus();return;}fetchFollowersPage(info.page+1,info.pages);}function%20fetchFollowersPage(pageNumber,pagesExpected){console.log('fetching%20page%20'+pageNumber+'%20out%20of%20'+pagesExpected);setFollowerStatus('p',Math.round(100*pageNumber/(pagesExpected+1))+'%25%20done');makeAjaxCall('http://api.dribbble.com/players/'+myname+'/followers%3Fper_page=30%26page='+pageNumber,processFollowersPage);}function%20updateFollowersList(newListSize){console.log('updating%20followers%20list...');newList=followers.slice(0,newListSize);if(newList.length%20%3C%20newListSize)newList[newListSize-1]=null;fetchFollowersPage(1,Math.round(newListSize/30+1));}function%20processOwnInfo(info){console.log(info);var%20followersNow=info.followers_count;var%20followersWhen=localStorage.getItem('followers_mtime');console.log('followers%20now%20=%20'+followersNow+',%20was%20=%20'+followers.length);if(followersNow%20!=followers.length%20||followersWhen%20%26%26(followersWhen+24*60*60*1000%20%3C+new%20Date())){setFollowerStatus('p');updateFollowersList(followersNow);return;}checkFollowerStatus();}function%20fromUrl(url){/**%22/username%22%20or%20%22/username/%22*/var%20re=/^\/([^\/]+)\/%3F$/;var%20m=re.exec(url);return(m%20%26%26%20m.length==2)%3Fm[1]:null;}/****************************************************************execution%20starts%20here****************************************************************/var%20username;var%20myname;var%20profile;function%20main(argc,argv){/**don't%20bother%20with%20older%20browsers*/if(typeof(window.localStorage)=='undefined')return;/**check%20we%20are%20logged%20in*/if($('%23header%20%23t-signin').length%20%3E%200)return;/**get%20our%20username*/myname=fromUrl($('%23header%20%23t-profile%20a').attr('href'));if(!%20myname){console.log(%22can't%20find%20myname%22);return;}/**see%20if%20it's%20user's%20profile%20page*/username=fromUrl(window.location.pathname);if(username){/**double%20check(filter%20out%20/shots,/popular,etc)*/if($('div.full%20div.profile').length%20!=1)return;profile=true;}else/**see%20if%20it's%20user's%20shot%20page*/{re=/^\/shots\/([0-9]+-[^\/]*)$/;if(!%20re.exec(window.location.pathname))return;username=fromUrl($('.shot-byline-user%20a').attr('href'));if(!%20username){console.log(%22can't%20find%20username%22);return;}profile=false;}console.log(%22self:%20%22+myname+%22,%20user:%20%22+username);if(myname==username)return;followers=localStorage.getItem('followers');if(followers){try{followers=JSON.parse(followers);}catch(x){followers=null;}}followers=followers%20||%20new%20Array();var%20lastAjaxCall;lastAjaxCall=localStorage.getItem('last_ajax_call');fastAjax=lastAjaxCall%3F(lastAjaxCall+60%20%3C+new%20Date()):true;console.log(fastAjax%3F'Accelerated%20update%20schedule':'Regular%20update%20schedule');makeAjaxCall('http://api.dribbble.com/players/'+myname,processOwnInfo);}main();})();"
  }
}